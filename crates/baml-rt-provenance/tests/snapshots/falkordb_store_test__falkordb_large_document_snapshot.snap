---
source: crates/baml-rt-provenance/tests/falkordb_store_test.rs
expression: graph_snapshot_json(&graph_snapshot)
---
[
  [
    [
      "AgentBoot"
    ],
    "agent_boot:00000000-0000-0000-0000-000000000010",
    {
      "a2a:agent_id": "00000000-0000-0000-0000-000000000010",
      "a2a:agent_type": "tony",
      "a2a:agent_version": "1.0.0",
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-2",
      "name": "agent_boot:00000000-0000-0000-0000-000000000010",
      "prov:base_type": "ProvActivity",
      "prov:endTime": 1700000000900,
      "prov:startTime": 1700000000900,
      "prov:type": "a2a:AgentBoot"
    },
    "WAS_BOOTSTRAPPED_BY",
    {
      "prov:base_type": "USED",
      "prov:role": "a2a:archive"
    },
    [
      "AgentArchive"
    ],
    "archive:tony@1.0.0",
    {
      "a2a:archive_path": "tony@1.0.0",
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-2",
      "name": "archive:tony@1.0.0",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:AgentArchive"
    }
  ],
  [
    [
      "AgentBoot"
    ],
    "agent_boot:00000000-0000-0000-0000-000000000010",
    {
      "a2a:agent_id": "00000000-0000-0000-0000-000000000010",
      "a2a:agent_type": "tony",
      "a2a:agent_version": "1.0.0",
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-2",
      "name": "agent_boot:00000000-0000-0000-0000-000000000010",
      "prov:base_type": "ProvActivity",
      "prov:endTime": 1700000000900,
      "prov:startTime": 1700000000900,
      "prov:type": "a2a:AgentBoot"
    },
    "WAS_EXECUTED_BY",
    {
      "prov:base_type": "WAS_ASSOCIATED_WITH",
      "prov:role": "executing_agent"
    },
    [
      "AgentRuntimeInstance"
    ],
    "agent:runner",
    {
      "a2a:agent_type": "runner",
      "name": "agent:runner",
      "prov:base_type": "ProvAgent",
      "prov:type": "a2a:AgentRuntimeInstance"
    }
  ],
  [
    [
      "Artifact"
    ],
    "artifact:artifact-99",
    {
      "a2a:artifact_id": "artifact-99",
      "a2a:artifact_type": "text",
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-11",
      "a2a:task_id": "task-42",
      "name": "artifact:artifact-99",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:Artifact"
    },
    "WAS_GENERATED_BY",
    {
      "prov:base_type": "WAS_GENERATED_BY",
      "prov:time": 1700000001950
    },
    [
      "A2ATaskExecution"
    ],
    "task_execution_task-42",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task_execution_task-42",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000000050,
      "prov:type": "a2a:A2ATaskExecution"
    }
  ],
  [
    [
      "LlmCall"
    ],
    "llm_call:prov-6",
    {
      "a2a:client": "TonyOpenRouter",
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-6",
      "a2a:function_name": "TonyShrinkChat",
      "a2a:metadata": "{\"message_id\":\"msg-1\",\"request_id\":\"req-1\"}",
      "a2a:model": "deepseek/deepseek-chat",
      "a2a:task_id": "task-42",
      "name": "llm_call:prov-6",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000001600,
      "prov:type": "a2a:LlmCall"
    },
    "WAS_USED_BY",
    {
      "prov:base_type": "USED",
      "prov:role": "a2a:prompt"
    },
    [
      "LlmPrompt"
    ],
    "llm_prompt:prov-6",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-6",
      "a2a:prompt": "{\"messages\":[{\"content\":\"You are Tony.\",\"role\":\"system\"},{\"content\":\"Hi Tony\",\"role\":\"user\"}],\"temperature\":0.2}",
      "a2a:task_id": "task-42",
      "name": "llm_prompt:prov-6",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:LlmPrompt"
    }
  ],
  [
    [
      "LlmCall"
    ],
    "llm_call:prov-7",
    {
      "a2a:client": "TonyOpenRouter",
      "a2a:context_id": "ctx-2-1",
      "a2a:duration_ms": 1234,
      "a2a:event_id": "prov-7",
      "a2a:function_name": "TonyShrinkChat",
      "a2a:metadata": "{\"usage\":{\"completion\":20,\"prompt\":10}}",
      "a2a:model": "deepseek/deepseek-chat",
      "a2a:success": true,
      "a2a:task_id": "task-42",
      "a2a:usage_completion_tokens": 20,
      "a2a:usage_prompt_tokens": 10,
      "a2a:usage_total_tokens": 30,
      "name": "llm_call:prov-7",
      "prov:base_type": "ProvActivity",
      "prov:endTime": 1700000001700,
      "prov:type": "a2a:LlmCall"
    },
    "WAS_USED_BY",
    {
      "prov:base_type": "USED",
      "prov:role": "a2a:prompt"
    },
    [
      "LlmPrompt"
    ],
    "llm_prompt:prov-7",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-7",
      "a2a:prompt": "{\"messages\":[{\"content\":\"You are Tony.\",\"role\":\"system\"},{\"content\":\"Hi Tony\",\"role\":\"user\"}],\"temperature\":0.2}",
      "a2a:task_id": "task-42",
      "name": "llm_prompt:prov-7",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:LlmPrompt"
    }
  ],
  [
    [
      "Message"
    ],
    "message:msg-2",
    {
      "a2a:content": [
        "Tell me about those ducks."
      ],
      "a2a:context_id": "ctx-2-1",
      "a2a:direction": "sent",
      "a2a:event_id": "prov-4",
      "a2a:metadata": "{\"agent_id\":\"00000000-0000-0000-0000-000000000010\"}",
      "a2a:role": "assistant",
      "a2a:task_id": "task-42",
      "name": "message:msg-2",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:Message"
    },
    "WAS_GENERATED_BY",
    {
      "prov:base_type": "WAS_GENERATED_BY",
      "prov:time": 1700000001500
    },
    [
      "A2AMessageProcessing"
    ],
    "message_processing:msg-2",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:direction": "sent",
      "a2a:event_id": "prov-4",
      "a2a:message_id": "msg-2",
      "a2a:role": "assistant",
      "a2a:task_id": "task-42",
      "name": "message_processing:msg-2",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000001500,
      "prov:type": "a2a:A2AMessageProcessing"
    }
  ],
  [
    [
      "A2AMessageProcessing"
    ],
    "message_processing:msg-1",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:direction": "received",
      "a2a:event_id": "prov-3",
      "a2a:message_id": "msg-1",
      "a2a:role": "user",
      "a2a:task_id": "task-42",
      "name": "message_processing:msg-1",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000001000,
      "prov:type": "a2a:A2AMessageProcessing"
    },
    "WAS_EXECUTED_BY",
    {
      "prov:base_type": "WAS_ASSOCIATED_WITH",
      "prov:role": "executing_agent"
    },
    [
      "AgentRuntimeInstance"
    ],
    "agent_instance:00000000-0000-0000-0000-000000000010",
    {
      "a2a:agent_id": "00000000-0000-0000-0000-000000000010",
      "a2a:agent_type": "tony",
      "a2a:agent_version": "1.0.0",
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-2",
      "name": "agent_instance:00000000-0000-0000-0000-000000000010",
      "prov:base_type": "ProvAgent",
      "prov:type": "a2a:AgentRuntimeInstance"
    }
  ],
  [
    [
      "A2AMessageProcessing"
    ],
    "message_processing:msg-1",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:direction": "received",
      "a2a:event_id": "prov-3",
      "a2a:message_id": "msg-1",
      "a2a:role": "user",
      "a2a:task_id": "task-42",
      "name": "message_processing:msg-1",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000001000,
      "prov:type": "a2a:A2AMessageProcessing"
    },
    "WAS_INVOKED_BY",
    {
      "prov:base_type": "WAS_ASSOCIATED_WITH",
      "prov:role": "invoking_agent"
    },
    [
      "AgentRuntimeInstance"
    ],
    "agent:runner",
    {
      "a2a:agent_type": "runner",
      "name": "agent:runner",
      "prov:base_type": "ProvAgent",
      "prov:type": "a2a:AgentRuntimeInstance"
    }
  ],
  [
    [
      "A2AMessageProcessing"
    ],
    "message_processing:msg-1",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:direction": "received",
      "a2a:event_id": "prov-3",
      "a2a:message_id": "msg-1",
      "a2a:role": "user",
      "a2a:task_id": "task-42",
      "name": "message_processing:msg-1",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000001000,
      "prov:type": "a2a:A2AMessageProcessing"
    },
    "WAS_RECEIVED_BY",
    {
      "prov:base_type": "USED",
      "prov:role": "input_message"
    },
    [
      "Message"
    ],
    "message:msg-1",
    {
      "a2a:content": [
        "Hi Tony",
        "It's the ducks."
      ],
      "a2a:context_id": "ctx-2-1",
      "a2a:direction": "received",
      "a2a:event_id": "prov-3",
      "a2a:metadata": "{\"agent_id\":\"00000000-0000-0000-0000-000000000010\",\"channel\":\"stdio\"}",
      "a2a:role": "user",
      "a2a:task_id": "task-42",
      "name": "message:msg-1",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:Message"
    }
  ],
  [
    [
      "A2AMessageProcessing"
    ],
    "message_processing:msg-2",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:direction": "sent",
      "a2a:event_id": "prov-4",
      "a2a:message_id": "msg-2",
      "a2a:role": "assistant",
      "a2a:task_id": "task-42",
      "name": "message_processing:msg-2",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000001500,
      "prov:type": "a2a:A2AMessageProcessing"
    },
    "WAS_EXECUTED_BY",
    {
      "prov:base_type": "WAS_ASSOCIATED_WITH",
      "prov:role": "executing_agent"
    },
    [
      "AgentRuntimeInstance"
    ],
    "agent_instance:00000000-0000-0000-0000-000000000010",
    {
      "a2a:agent_id": "00000000-0000-0000-0000-000000000010",
      "a2a:agent_type": "tony",
      "a2a:agent_version": "1.0.0",
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-2",
      "name": "agent_instance:00000000-0000-0000-0000-000000000010",
      "prov:base_type": "ProvAgent",
      "prov:type": "a2a:AgentRuntimeInstance"
    }
  ],
  [
    [
      "A2AMessageProcessing"
    ],
    "message_processing:msg-2",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:direction": "sent",
      "a2a:event_id": "prov-4",
      "a2a:message_id": "msg-2",
      "a2a:role": "assistant",
      "a2a:task_id": "task-42",
      "name": "message_processing:msg-2",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000001500,
      "prov:type": "a2a:A2AMessageProcessing"
    },
    "WAS_INVOKED_BY",
    {
      "prov:base_type": "WAS_ASSOCIATED_WITH",
      "prov:role": "invoking_agent"
    },
    [
      "AgentRuntimeInstance"
    ],
    "agent:runner",
    {
      "a2a:agent_type": "runner",
      "name": "agent:runner",
      "prov:base_type": "ProvAgent",
      "prov:type": "a2a:AgentRuntimeInstance"
    }
  ],
  [
    [
      "A2ATask"
    ],
    "task:task-42",
    {
      "a2a:agent_id": "00000000-0000-0000-0000-000000000010",
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task:task-42",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:A2ATask"
    },
    "WAS_CREATED_BY",
    {
      "prov:base_type": "WAS_GENERATED_BY",
      "prov:time": 1700000000050
    },
    [
      "A2ATaskExecution"
    ],
    "task_execution_task-42",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task_execution_task-42",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000000050,
      "prov:type": "a2a:A2ATaskExecution"
    }
  ],
  [
    [
      "A2ATask"
    ],
    "task:task-42",
    {
      "a2a:agent_id": "00000000-0000-0000-0000-000000000010",
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task:task-42",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:A2ATask"
    },
    "WAS_EMITTED_BY",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:direction": "sent",
      "a2a:from": "task:task-42",
      "a2a:relation": "A2A_TASK_MESSAGE",
      "a2a:task_id": "task-42",
      "a2a:timestamp_ms": 1700000001500,
      "a2a:to": "message:msg-2"
    },
    [
      "Message"
    ],
    "message:msg-2",
    {
      "a2a:content": [
        "Tell me about those ducks."
      ],
      "a2a:context_id": "ctx-2-1",
      "a2a:direction": "sent",
      "a2a:event_id": "prov-4",
      "a2a:metadata": "{\"agent_id\":\"00000000-0000-0000-0000-000000000010\"}",
      "a2a:role": "assistant",
      "a2a:task_id": "task-42",
      "name": "message:msg-2",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:Message"
    }
  ],
  [
    [
      "A2ATask"
    ],
    "task:task-42",
    {
      "a2a:agent_id": "00000000-0000-0000-0000-000000000010",
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task:task-42",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:A2ATask"
    },
    "WAS_GENERATED_BY",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:from": "task:task-42",
      "a2a:relation": "A2A_TASK_ARTIFACT",
      "a2a:task_id": "task-42",
      "a2a:timestamp_ms": 1700000001950,
      "a2a:to": "artifact:artifact-99"
    },
    [
      "Artifact"
    ],
    "artifact:artifact-99",
    {
      "a2a:artifact_id": "artifact-99",
      "a2a:artifact_type": "text",
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-11",
      "a2a:task_id": "task-42",
      "name": "artifact:artifact-99",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:Artifact"
    }
  ],
  [
    [
      "A2ATask"
    ],
    "task:task-42",
    {
      "a2a:agent_id": "00000000-0000-0000-0000-000000000010",
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task:task-42",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:A2ATask"
    },
    "WAS_SPAWNED_BY",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:direction": "received",
      "a2a:from": "task:task-42",
      "a2a:relation": "A2A_TASK_MESSAGE",
      "a2a:task_id": "task-42",
      "a2a:timestamp_ms": 1700000001000,
      "a2a:to": "message:msg-1"
    },
    [
      "Message"
    ],
    "message:msg-1",
    {
      "a2a:content": [
        "Hi Tony",
        "It's the ducks."
      ],
      "a2a:context_id": "ctx-2-1",
      "a2a:direction": "received",
      "a2a:event_id": "prov-3",
      "a2a:metadata": "{\"agent_id\":\"00000000-0000-0000-0000-000000000010\",\"channel\":\"stdio\"}",
      "a2a:role": "user",
      "a2a:task_id": "task-42",
      "name": "message:msg-1",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:Message"
    }
  ],
  [
    [
      "A2ATaskExecution"
    ],
    "task_execution_task-42",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task_execution_task-42",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000000050,
      "prov:type": "a2a:A2ATaskExecution"
    },
    "WAS_EXECUTED_BY",
    {
      "prov:base_type": "WAS_ASSOCIATED_WITH",
      "prov:role": "executing_agent"
    },
    [
      "AgentRuntimeInstance"
    ],
    "agent_instance:00000000-0000-0000-0000-000000000010",
    {
      "a2a:agent_id": "00000000-0000-0000-0000-000000000010",
      "a2a:agent_type": "tony",
      "a2a:agent_version": "1.0.0",
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-2",
      "name": "agent_instance:00000000-0000-0000-0000-000000000010",
      "prov:base_type": "ProvAgent",
      "prov:type": "a2a:AgentRuntimeInstance"
    }
  ],
  [
    [
      "A2ATaskExecution"
    ],
    "task_execution_task-42",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task_execution_task-42",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000000050,
      "prov:type": "a2a:A2ATaskExecution"
    },
    "WAS_EXECUTED_BY",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:from": "task_execution_task-42",
      "a2a:relation": "A2A_TASK_CALL",
      "a2a:task_id": "task-42",
      "a2a:timestamp_ms": 1700000001800,
      "a2a:to": "tool_call:prov-8"
    },
    [
      "ToolCall"
    ],
    "tool_call:prov-8",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-8",
      "a2a:function_name": "ChooseTonyMemoryTool",
      "a2a:metadata": "{\"source\":\"baml\"}",
      "a2a:task_id": "task-42",
      "a2a:tool_name": "tony_memory",
      "name": "tool_call:prov-8",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000001800,
      "prov:type": "a2a:ToolCall"
    }
  ],
  [
    [
      "A2ATaskExecution"
    ],
    "task_execution_task-42",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task_execution_task-42",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000000050,
      "prov:type": "a2a:A2ATaskExecution"
    },
    "WAS_EXECUTED_BY",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:from": "task_execution_task-42",
      "a2a:relation": "A2A_TASK_CALL",
      "a2a:task_id": "task-42",
      "a2a:timestamp_ms": 1700000001900,
      "a2a:to": "tool_call:prov-9"
    },
    [
      "ToolCall"
    ],
    "tool_call:prov-9",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:duration_ms": 25,
      "a2a:event_id": "prov-9",
      "a2a:function_name": "ChooseTonyMemoryTool",
      "a2a:metadata": "{\"result\":{\"count\":2,\"tokens\":[1,2,3]}}",
      "a2a:success": true,
      "a2a:task_id": "task-42",
      "a2a:tool_name": "tony_memory",
      "name": "tool_call:prov-9",
      "prov:base_type": "ProvActivity",
      "prov:endTime": 1700000001900,
      "prov:type": "a2a:ToolCall"
    }
  ],
  [
    [
      "A2ATaskExecution"
    ],
    "task_execution_task-42",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task_execution_task-42",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000000050,
      "prov:type": "a2a:A2ATaskExecution"
    },
    "WAS_INVOKED_BY",
    {
      "prov:base_type": "WAS_ASSOCIATED_WITH",
      "prov:role": "invoking_agent"
    },
    [
      "AgentRuntimeInstance"
    ],
    "agent:runner",
    {
      "a2a:agent_type": "runner",
      "name": "agent:runner",
      "prov:base_type": "ProvAgent",
      "prov:type": "a2a:AgentRuntimeInstance"
    }
  ],
  [
    [
      "A2ATaskExecution"
    ],
    "task_execution_task-42",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task_execution_task-42",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000000050,
      "prov:type": "a2a:A2ATaskExecution"
    },
    "WAS_INVOKED_BY",
    {
      "prov:base_type": "WAS_ASSOCIATED_WITH",
      "prov:role": "invoking_agent"
    },
    [
      "AgentRuntimeInstance"
    ],
    "agent:runner",
    {
      "a2a:agent_type": "runner",
      "name": "agent:runner",
      "prov:base_type": "ProvAgent",
      "prov:type": "a2a:AgentRuntimeInstance"
    }
  ],
  [
    [
      "A2ATaskExecution"
    ],
    "task_execution_task-42",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task_execution_task-42",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000000050,
      "prov:type": "a2a:A2ATaskExecution"
    },
    "WAS_INVOKED_BY",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:from": "task_execution_task-42",
      "a2a:relation": "A2A_TASK_CALL",
      "a2a:task_id": "task-42",
      "a2a:timestamp_ms": 1700000001600,
      "a2a:to": "llm_call:prov-6"
    },
    [
      "LlmCall"
    ],
    "llm_call:prov-6",
    {
      "a2a:client": "TonyOpenRouter",
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-6",
      "a2a:function_name": "TonyShrinkChat",
      "a2a:metadata": "{\"message_id\":\"msg-1\",\"request_id\":\"req-1\"}",
      "a2a:model": "deepseek/deepseek-chat",
      "a2a:task_id": "task-42",
      "name": "llm_call:prov-6",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000001600,
      "prov:type": "a2a:LlmCall"
    }
  ],
  [
    [
      "A2ATaskExecution"
    ],
    "task_execution_task-42",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task_execution_task-42",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000000050,
      "prov:type": "a2a:A2ATaskExecution"
    },
    "WAS_INVOKED_BY",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:from": "task_execution_task-42",
      "a2a:relation": "A2A_TASK_CALL",
      "a2a:task_id": "task-42",
      "a2a:timestamp_ms": 1700000001700,
      "a2a:to": "llm_call:prov-7"
    },
    [
      "LlmCall"
    ],
    "llm_call:prov-7",
    {
      "a2a:client": "TonyOpenRouter",
      "a2a:context_id": "ctx-2-1",
      "a2a:duration_ms": 1234,
      "a2a:event_id": "prov-7",
      "a2a:function_name": "TonyShrinkChat",
      "a2a:metadata": "{\"usage\":{\"completion\":20,\"prompt\":10}}",
      "a2a:model": "deepseek/deepseek-chat",
      "a2a:success": true,
      "a2a:task_id": "task-42",
      "a2a:usage_completion_tokens": 20,
      "a2a:usage_prompt_tokens": 10,
      "a2a:usage_total_tokens": 30,
      "name": "llm_call:prov-7",
      "prov:base_type": "ProvActivity",
      "prov:endTime": 1700000001700,
      "prov:type": "a2a:LlmCall"
    }
  ],
  [
    [
      "A2ATaskExecution"
    ],
    "task_execution_task-42",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task_execution_task-42",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000000050,
      "prov:type": "a2a:A2ATaskExecution"
    },
    "WAS_SPAWNED_BY",
    {
      "prov:base_type": "USED",
      "prov:role": "input_message"
    },
    [
      "Message"
    ],
    "message:msg-1",
    {
      "a2a:content": [
        "Hi Tony",
        "It's the ducks."
      ],
      "a2a:context_id": "ctx-2-1",
      "a2a:direction": "received",
      "a2a:event_id": "prov-3",
      "a2a:metadata": "{\"agent_id\":\"00000000-0000-0000-0000-000000000010\",\"channel\":\"stdio\"}",
      "a2a:role": "user",
      "a2a:task_id": "task-42",
      "name": "message:msg-1",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:Message"
    }
  ],
  [
    [
      "A2ATaskExecution"
    ],
    "task_execution_task-42",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:task_id": "task-42",
      "name": "task_execution_task-42",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000000050,
      "prov:type": "a2a:A2ATaskExecution"
    },
    "WAS_UPDATED_BY",
    {
      "prov:base_type": "USED",
      "prov:role": "task_state"
    },
    [
      "A2ATaskState"
    ],
    "task_state:task-42:1700000001250",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-5",
      "a2a:task_id": "task-42",
      "a2a:task_state": "working",
      "a2a:task_state_time": 1700000001250,
      "name": "task_state:task-42:1700000001250",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:A2ATaskState"
    }
  ],
  [
    [
      "ToolCall"
    ],
    "tool_call:prov-8",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-8",
      "a2a:function_name": "ChooseTonyMemoryTool",
      "a2a:metadata": "{\"source\":\"baml\"}",
      "a2a:task_id": "task-42",
      "a2a:tool_name": "tony_memory",
      "name": "tool_call:prov-8",
      "prov:base_type": "ProvActivity",
      "prov:startTime": 1700000001800,
      "prov:type": "a2a:ToolCall"
    },
    "WAS_USED_BY",
    {
      "prov:base_type": "USED",
      "prov:role": "a2a:args"
    },
    [
      "ToolArgs"
    ],
    "tool_args:prov-8",
    {
      "a2a:args": "{\"limit\":6,\"memory\":[\"user: Hi Tony\",\"assistant: Hey, what's on your mind?\"]}",
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-8",
      "a2a:task_id": "task-42",
      "name": "tool_args:prov-8",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:ToolArgs"
    }
  ],
  [
    [
      "ToolCall"
    ],
    "tool_call:prov-9",
    {
      "a2a:context_id": "ctx-2-1",
      "a2a:duration_ms": 25,
      "a2a:event_id": "prov-9",
      "a2a:function_name": "ChooseTonyMemoryTool",
      "a2a:metadata": "{\"result\":{\"count\":2,\"tokens\":[1,2,3]}}",
      "a2a:success": true,
      "a2a:task_id": "task-42",
      "a2a:tool_name": "tony_memory",
      "name": "tool_call:prov-9",
      "prov:base_type": "ProvActivity",
      "prov:endTime": 1700000001900,
      "prov:type": "a2a:ToolCall"
    },
    "WAS_USED_BY",
    {
      "prov:base_type": "USED",
      "prov:role": "a2a:args"
    },
    [
      "ToolArgs"
    ],
    "tool_args:prov-9",
    {
      "a2a:args": "{\"limit\":6,\"memory\":[\"user: Hi Tony\",\"assistant: Hey, what's on your mind?\"]}",
      "a2a:context_id": "ctx-2-1",
      "a2a:event_id": "prov-9",
      "a2a:task_id": "task-42",
      "name": "tool_args:prov-9",
      "prov:base_type": "ProvEntity",
      "prov:type": "a2a:ToolArgs"
    }
  ]
]
